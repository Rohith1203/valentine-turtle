<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Vidhu ğŸ¢â¤ï¸</title>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <style>
    :root{
      --bg1:#ffd6e7;
      --bg2:#ffeef6;
      --card:#ffffffcc;
      --yes:#ff3b7a;
      --yesHover:#ff1f68;
      --ink:#111827;
      --line:rgba(17,24,39,.10);
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      min-height:100svh;
      display:grid;
      place-items:center;
      padding:16px;
      overflow:hidden;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      color:var(--ink);
      background:radial-gradient(circle at top,var(--bg2),var(--bg1));
    }

    #confettiCanvas{
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      pointer-events:none;
      z-index:9999;
    }

    .card{
      width:min(780px,94vw);
      padding:26px 22px;
      background:var(--card);
      backdrop-filter:blur(10px);
      border-radius:22px;
      text-align:center;
      box-shadow:0 18px 60px rgba(0,0,0,.15);
    }

    .catwrap{
      width:min(260px,80vw);
      margin:6px auto 10px;
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
      background:rgba(255,255,255,.6);
    }
    .catwrap img{width:100%;display:block}

    h1{
      font-size:clamp(26px,4vw,44px);
      margin:12px 0 8px;
    }

    .sub{
      margin:0 0 16px;
      font-size:14px;
      opacity:.78;
    }

    .nick{
      display:inline-block;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(255,59,122,.12);
      font-weight:800;
    }

    .button-zone{
      position:relative;
      width:min(520px,92%);
      height:150px;
      margin:0 auto;
      touch-action:none;
    }

    button{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      padding:16px 24px;
      font-size:18px;
      font-weight:800;
      border-radius:999px;
      border:none;
      cursor:pointer;
      box-shadow:0 10px 24px rgba(0,0,0,.14);
      user-select:none;
      -webkit-tap-highlight-color:transparent;
      transition:transform .12s ease, background .12s ease;
    }

    #yesBtn{left:18%;background:var(--yes);color:#fff;}
    #yesBtn:hover{background:var(--yesHover);}
    #noBtn{left:62%;background:#e5e7eb;color:#111827;will-change:left,top;}

    .hint{margin-top:10px;font-size:13px;opacity:.7;}

    .result{
      display:none;
      margin-top:18px;
      animation:pop .35s ease;
    }

    .chips{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin:14px 0 10px;
    }

    .chipbtn{
      position:static;
      transform:none;
      padding:10px 14px;
      font-size:14px;
      font-weight:900;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.6);
      cursor:pointer;
    }

    .chipbtn.primary{
      background:rgba(255,59,122,.14);
      border-color:rgba(255,59,122,.22);
      color:#7a0d2e;
    }

    .panel{
      display:none;
      margin:12px auto 0;
      width:min(620px,94%);
      padding:14px;
      border-radius:16px;
      background:rgba(255,255,255,.62);
      border:1px solid rgba(0,0,0,.06);
      text-align:left;
      line-height:1.55;
      font-size:15px;
    }

    .spotify{
      display:none;
      width:min(560px,94%);
      margin:14px auto 0;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(0,0,0,.08);
      background:rgba(255,255,255,.5);
    }

    .footerNote{
      margin-top:12px;
      opacity:.8;
      font-size:13px;
    }

    .fireworks{
      width:min(360px,90vw);
      margin:14px auto 0;
      display:block;
      border-radius:14px;
    }

    @keyframes pop{
      from{transform:scale(.96);opacity:0;}
      to{transform:scale(1);opacity:1;}
    }
  </style>
</head>

<body>
  <canvas id="confettiCanvas"></canvas>

  <main class="card">
    <div class="catwrap" aria-label="cute cat">
      <img
        alt="muah cat kiss"
        src="https://media.giphy.com/media/ytu2GUYbvhz7zShGwS/giphy.gif"
      />
    </div>

    <h1><span id="nameLine">Vidhu</span>, will you be my Valentine?</h1>
    <p class="sub">(aka <span class="nick" id="nick">Vidhu</span>) âœ¨</p>

    <section class="button-zone" id="zone">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </section>

    <div class="hint" id="hint">â€œNoâ€ seems a bit shy ğŸ˜ˆ</div>

    <section class="result" id="result">
      <h2>Valentine unlocked â¤ï¸</h2>

      <div class="chips">
        <button class="chipbtn primary" id="storyBtn" type="button">A tiny story ğŸŒ™</button>
        <button class="chipbtn" id="musicBtn" type="button">Play our vibe ğŸ¶</button>
      </div>

      <div class="panel" id="story">
        ğŸŒ‡ <b>Sunset</b> asked if it was the prettiest thing Iâ€™d seen â€”
        I said her eyes are prettier.<br><br>

        ğŸŒ™ <b>Moonlight</b> asked if it shined the softest â€”
        I said her eyes shine softer.<br><br>

        ğŸŒŠ <b>Ocean</b> asked if it held the deepest secrets â€”
        I said her eyes hold deeper ones.<br><br>

        ğŸŒ§ï¸ <b>Rain</b> asked if it poured the most emotion â€”
        not today, I said.<br><br>

        ğŸŒŒ <b>Skies</b> asked if it was heaven â€”
        beautiful, but Iâ€™ve already seen it in her eyes.<br><br>

        ğŸ¤« <b>Silence</b> asked if it spoke the loudest â€”
        I smiled. Her silence does.

        <div class="footerNote">
          If youâ€™re reading this, Vidhiâ€¦ yes, itâ€™s you. ğŸ¢<br>
          The one who makes ordinary moments feel quietly special.
        </div>
      </div>

      <div class="spotify" id="spotify">
        <iframe
          title="Nothing's Gonna Hurt You Baby - Cigarettes After Sex"
          src="https://open.spotify.com/embed/track/7cs7MLtAWvsdf3w5kBvfK2"
          width="100%"
          height="152"
          frameborder="0"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
        </iframe>
      </div>

      <img
        class="fireworks"
        src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif"
        alt="Fireworks"
      />
    </section>
  </main>

  <script>
    /* rotating names on the front page */
    const names = ["Vidhu", "Vidd", "Tipsy Turtle", "Cutuu Turtle"];
    let i = 0;
    const nameLine = document.getElementById("nameLine");
    const nickEl = document.getElementById("nick");

    setInterval(() => {
      i = (i + 1) % names.length;
      nameLine.textContent = names[i];
      nickEl.textContent = names[i];
    }, 1500);

    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const zone   = document.getElementById("zone");
    const result = document.getElementById("result");
    const hint   = document.getElementById("hint");

    const storyBtn = document.getElementById("storyBtn");
    const story    = document.getElementById("story");
    const musicBtn = document.getElementById("musicBtn");
    const spotify  = document.getElementById("spotify");

    const confettiCanvas = document.getElementById("confettiCanvas");
    const confettiInstance = confetti.create(confettiCanvas, { resize:true });

    /* yes grows */
    let yesScale = 1;
    function growYes(){
      yesScale = Math.min(2.2, yesScale + 0.08);
      yesBtn.style.transform = `translateY(-50%) scale(${yesScale})`;
    }

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    /* no runs away */
    function moveNo(px, py){
      const z = zone.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      let dx = (b.left + b.width/2) - px;
      let dy = (b.top  + b.height/2) - py;
      let mag = Math.hypot(dx, dy) || 1;
      dx /= mag; dy /= mag;

      let newLeft = (b.left - z.left) + dx * 160;
      let newTop  = (b.top  - z.top ) + dy * 160;

      newLeft = clamp(newLeft, 0, z.width  - b.width);
      newTop  = clamp(newTop,  0, z.height - b.height);

      noBtn.style.left = newLeft + "px";
      noBtn.style.top  = newTop  + "px";
      noBtn.style.transform = "none";
      growYes();
    }

    zone.addEventListener("pointermove", (e) => {
      const b = noBtn.getBoundingClientRect();
      const d = Math.hypot(
        (b.left + b.width/2) - e.clientX,
        (b.top  + b.height/2) - e.clientY
      );
      if (d < 140) moveNo(e.clientX, e.clientY);
    });

    noBtn.addEventListener("click", (e) => e.preventDefault());

    /* YES click */
    yesBtn.onclick = () => {
      zone.style.display = "none";
      hint.style.display = "none";

      result.style.display = "block";
      story.style.display = "block";

      spotify.style.display = "none";
      musicBtn.textContent = "Play our vibe ğŸ¶";

      confettiInstance({ particleCount: 220, spread: 140 });
    };

    storyBtn.onclick = () => {
      story.style.display = (story.style.display === "block") ? "none" : "block";
    };

    musicBtn.onclick = () => {
      const open = spotify.style.display === "block";
      if (open) {
        spotify.style.display = "none";
        musicBtn.textContent = "Play our vibe ğŸ¶";
      } else {
        spotify.style.display = "block";
        musicBtn.textContent = "Hide our vibe ğŸ™ˆ";
        spotify.scrollIntoView({ behavior:"smooth", block:"nearest" });
      }
    };
  </script>
</body>
</html>
